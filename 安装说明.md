# 创锦排课系统 - 安装说明

## 环境要求
- Node.js 18+ 
- npm 或 yarn

## 安装步骤

### 方法一：管理员权限安装（推荐）

1. **以管理员身份运行PowerShell**
   - 右键点击"开始"菜单
   - 选择"Windows PowerShell (管理员)"

2. **进入项目目录**
   ```powershell
   cd C:\Users\aaron\Desktop\创锦一对一\project\schedule-system
   ```

3. **安装依赖**
   ```powershell
   npm install
   ```

4. **启动开发环境**
   ```powershell
   npm run electron:dev
   ```

### 方法二：使用yarn

如果遇到npm权限问题，可以使用yarn：

```powershell
# 安装yarn（如果未安装）
npm install -g yarn

# 进入项目目录
cd C:\Users\aaron\Desktop\创锦一对一\project\schedule-system

# 安装依赖
yarn install

# 启动开发环境
yarn electron:dev
```

### 方法三：修改npm缓存路径

如果仍有权限问题，可以修改npm缓存路径：

```powershell
# 创建新的缓存目录
mkdir C:\npm-cache

# 设置新的缓存路径
npm config set cache C:\npm-cache --global

# 设置prefix路径
npm config set prefix C:\npm-global --global

# 然后再安装
npm install
```

## 常见问题

### 1. EPERM权限错误
**原因**: 杀毒软件拦截或缓存目录权限不足

**解决方案**:
- 临时关闭杀毒软件
- 以管理员身份运行PowerShell
- 或使用yarn替代npm

### 2. 网络连接问题
**解决方案**: 使用国内镜像
```powershell
npm install --registry=https://registry.npmmirror.com
```

### 3. Better-SQLite3编译失败
**原因**: 缺少C++编译工具

**解决方案**: 安装windows-build-tools
```powershell
npm install --global windows-build-tools
```

## 打包应用

开发完成后，打包成可执行文件：

```powershell
# 打包
npm run electron:build

# 生成的安装包位于
# dist-electron/创锦排课系统-Setup-1.0.0.exe
```

## 验证安装

安装完成后，检查node_modules是否存在：
```powershell
ls node_modules
```

应该看到以下关键包：
- electron
- react
- antd
- better-sqlite3
- html2canvas

## 需要帮助？

如果遇到问题，请检查：
1. Node.js版本是否为18+
2. 是否有管理员权限
3. 杀毒软件是否拦截
4. 磁盘空间是否充足（至少500MB）
